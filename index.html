<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSS-edu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        .pulse-animation { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .timer-warning { animation: shake 0.5s ease-in-out infinite; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <!-- Start Screen -->
    <div id="startScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl card-shadow p-8 max-w-md w-full">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4">‚ö°</div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Quiz Kelistrikan Dasar</h1>
                <p class="text-gray-600">Konsentrasi Keahlian TKR</p>
            </div>
            
            <form id="studentForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                    <input type="text" id="studentName" required 
                           class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                    <select id="studentClass" required 
                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        <option value="">Pilih Kelas</option>
                        <option value="TKR A">TKR A</option>
                        <option value="TKR B">TKR B</option>
                        <option value="TKR C">TKR C</option>
                    </select>
                </div>
                
                <div class="bg-blue-50 p-4 rounded-xl mb-4">
                    <h3 class="font-semibold text-blue-800 mb-2">Aturan Quiz:</h3>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>maksimalkan your "prefrontal korteks" </li>
                    </ul>
                </div>
                
                <button type="submit" 
                        class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-blue-600 hover:to-purple-700 transform hover:scale-105 transition-all pulse-animation">
                    Gazz Mulai Quiz
                </button>
            </form>
        </div>
    </div>

    <!-- Quiz Screen -->
    <div id="quizScreen" class="hidden min-h-screen p-4">
        <!-- Header -->
        <div class="bg-white rounded-2xl card-shadow p-4 mb-6">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-xl font-bold text-gray-800" id="studentInfo"></h2>
                    <p class="text-gray-600">Soal <span id="currentQuestion">1</span> ayoo tebak berapa</p>
                </div>
                <div class="text-right">
                    <div id="timer" class="text-3xl font-bold text-blue-600">30</div>
                    <p class="text-sm text-gray-600">detik</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="bg-gray-200 rounded-full h-3">
                    <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-300" style="width: 1%"></div>
                </div>
            </div>
        </div>

        <!-- Question Card -->
        <div class="bg-white rounded-2xl card-shadow p-6 mb-6">
            <div class="mb-6">
                <span id="questionType" class="inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium mb-4"></span>
                <h3 id="questionText" class="text-xl font-semibold text-gray-800 leading-relaxed"></h3>
            </div>
            
            <div id="optionsContainer" class="space-y-3">
                <!-- Options will be inserted here -->
            </div>
        </div>

        <!-- Score Display -->
        <div class="bg-white rounded-2xl card-shadow p-4">
            <div class="flex justify-between items-center">
                <div class="text-center">
                    <div class="text-2xl font-bold text-green-600" id="correctCount">0</div>
                    <p class="text-sm text-gray-600">Benar</p>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-red-600" id="wrongCount">0</div>
                    <p class="text-sm text-gray-600">Salah</p>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-blue-600" id="scoreDisplay">0</div>
                    <p class="text-sm text-gray-600">Skor</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Break Screen -->
    <div id="breakScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl card-shadow p-8 max-w-md w-full text-center">
            <div class="text-6xl mb-6">‚òï</div>
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Waktu Istirahat</h2>
            <p class="text-gray-600 mb-6">Anda telah menyelesaikan <span id="completedQuestions">10</span> soal!</p>
            
            <div class="bg-yellow-50 p-4 rounded-xl mb-6">
                <h3 class="font-semibold text-yellow-800 mb-2">üí° Tips Belajar:</h3>
                <p id="breakTip" class="text-sm text-yellow-700">Ingat rumus Hukum Ohm: V = I √ó R, I = V/R, R = V/I</p>
            </div>
            
            <div class="bg-blue-50 p-6 rounded-xl mb-6">
                <h3 class="font-semibold text-blue-800 mb-4">üîê Masukkan Kode untuk Melanjutkan</h3>
                <form id="codeForm" class="space-y-4">
                    <input type="text" id="continueCode" placeholder="Masukkan kode dari guru" required
                           class="w-full px-4 py-3 border border-blue-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center font-mono text-lg">
                    <button type="submit" 
                            class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all">
                        Lanjutkan Quiz
                    </button>
                </form>
                <div id="codeError" class="hidden mt-2 text-red-600 text-sm">
                    Kode salah! Silakan coba lagi.
                </div>
            </div>
            
            <div class="text-sm text-gray-500">
                Hubungi guru untuk mendapatkan kode melanjutkan quiz
            </div>
        </div>
    </div>

    <!-- Result Screen -->
    <div id="resultScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl card-shadow p-8 max-w-md w-full text-center">
            <div id="resultIcon" class="text-8xl mb-6">üéâ</div>
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Quiz Selesai!</h2>
            <div id="finalStudentInfo" class="text-gray-600 mb-6"></div>
            
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 mb-6">
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <div id="finalCorrect" class="text-3xl font-bold text-green-600">0</div>
                        <p class="text-sm text-gray-600">Benar</p>
                    </div>
                    <div>
                        <div id="finalWrong" class="text-3xl font-bold text-red-600">0</div>
                        <p class="text-sm text-gray-600">Salah</p>
                    </div>
                </div>
                <div class="border-t pt-4">
                    <div id="finalScore" class="text-4xl font-bold text-blue-600">0</div>
                    <p class="text-gray-600">Skor Akhir</p>
                </div>
            </div>
            
            <div id="gradeMessage" class="mb-6 p-4 rounded-xl"></div>
            
            <button onclick="restartQuiz()" 
                    class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-blue-600 hover:to-purple-700 transform hover:scale-105 transition-all">
                Ulangi Quiz
            </button>
        </div>
    </div>

    <!-- Answer Popup -->
    <div id="answerPopup" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl card-shadow p-6 max-w-sm w-full text-center transform scale-95 transition-all">
            <div id="popupIcon" class="text-6xl mb-4"></div>
            <h3 id="popupTitle" class="text-2xl font-bold mb-2"></h3>
            <p id="popupMessage" class="text-gray-600 mb-4"></p>
            <div id="popupExplanation" class="bg-gray-50 rounded-xl p-4 text-sm text-left"></div>
        </div>
    </div>

    <script>
        // Questions Database
        const questions = [
            // Calculation Questions (70 questions)
            {
                type: "Perhitungan",
                question: "Sebuah rangkaian memiliki tegangan 12V dan hambatan 4Œ©. Berapakah arus yang mengalir?",
                options: ["2A", "3A", "4A", "6A"],
                correct: 1,
                explanation: "Menggunakan Hukum Ohm: I = V/R = 12V/4Œ© = 3A"
            },
            {
                type: "Perhitungan",
                question: "Jika arus yang mengalir 2A dan hambatan 6Œ©, berapakah tegangannya?",
                options: ["8V", "10V", "12V", "14V"],
                correct: 2,
                explanation: "Menggunakan Hukum Ohm: V = I √ó R = 2A √ó 6Œ© = 12V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 24V menghasilkan arus 3A. Berapakah hambatannya?",
                options: ["6Œ©", "8Œ©", "9Œ©", "12Œ©"],
                correct: 1,
                explanation: "Menggunakan Hukum Ohm: R = V/I = 24V/3A = 8Œ©"
            },
            {
                type: "Perhitungan",
                question: "Sebuah lampu dengan hambatan 10Œ© dihubungkan ke sumber 20V. Berapa arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 20V/10Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Arus 5A mengalir melalui hambatan 8Œ©. Berapa tegangan yang diperlukan?",
                options: ["35V", "40V", "45V", "50V"],
                correct: 1,
                explanation: "V = I √ó R = 5A √ó 8Œ© = 40V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 15V dan I = 3A, maka R = ?",
                options: ["3Œ©", "4Œ©", "5Œ©", "6Œ©"],
                correct: 2,
                explanation: "R = V/I = 15V/3A = 5Œ©"
            },
            {
                type: "Perhitungan",
                question: "Sebuah resistor 12Œ© dialiri arus 2A. Berapa tegangan pada resistor?",
                options: ["20V", "22V", "24V", "26V"],
                correct: 2,
                explanation: "V = I √ó R = 2A √ó 12Œ© = 24V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 36V dan hambatan 9Œ© menghasilkan arus sebesar?",
                options: ["3A", "4A", "5A", "6A"],
                correct: 1,
                explanation: "I = V/R = 36V/9Œ© = 4A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 1.5A dan R = 8Œ©, maka V = ?",
                options: ["10V", "12V", "14V", "16V"],
                correct: 1,
                explanation: "V = I √ó R = 1.5A √ó 8Œ© = 12V"
            },
            {
                type: "Perhitungan",
                question: "Hambatan yang diperlukan untuk membatasi arus 2A pada tegangan 18V adalah?",
                options: ["7Œ©", "8Œ©", "9Œ©", "10Œ©"],
                correct: 2,
                explanation: "R = V/I = 18V/2A = 9Œ©"
            },
            {
                type: "Perhitungan",
                question: "Sebuah motor listrik dengan hambatan 5Œ© dihubungkan ke sumber 25V. Arus yang mengalir?",
                options: ["4A", "5A", "6A", "7A"],
                correct: 1,
                explanation: "I = V/R = 25V/5Œ© = 5A"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 48V dan I = 6A, berapa nilai R?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 2,
                explanation: "R = V/I = 48V/6A = 8Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 0.5A mengalir melalui hambatan 20Œ©. Tegangan yang diperlukan?",
                options: ["8V", "10V", "12V", "15V"],
                correct: 1,
                explanation: "V = I √ó R = 0.5A √ó 20Œ© = 10V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 30V menghasilkan arus 5A. Hambatan rangkaian adalah?",
                options: ["5Œ©", "6Œ©", "7Œ©", "8Œ©"],
                correct: 1,
                explanation: "R = V/I = 30V/5A = 6Œ©"
            },
            {
                type: "Perhitungan",
                question: "Sebuah pemanas dengan hambatan 15Œ© dihubungkan ke sumber 45V. Arus yang mengalir?",
                options: ["2A", "3A", "4A", "5A"],
                correct: 1,
                explanation: "I = V/R = 45V/15Œ© = 3A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 4A dan R = 7Œ©, maka V = ?",
                options: ["26V", "28V", "30V", "32V"],
                correct: 1,
                explanation: "V = I √ó R = 4A √ó 7Œ© = 28V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 21V dan arus 3A menghasilkan hambatan sebesar?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 21V/3A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Sebuah rangkaian dengan hambatan 16Œ© dialiri arus 1.5A. Tegangannya?",
                options: ["22V", "24V", "26V", "28V"],
                correct: 1,
                explanation: "V = I √ó R = 1.5A √ó 16Œ© = 24V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 42V dan I = 7A, berapa R?",
                options: ["5Œ©", "6Œ©", "7Œ©", "8Œ©"],
                correct: 1,
                explanation: "R = V/I = 42V/7A = 6Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 2.5A mengalir melalui hambatan 12Œ©. Tegangan yang diperlukan?",
                options: ["28V", "30V", "32V", "35V"],
                correct: 1,
                explanation: "V = I √ó R = 2.5A √ó 12Œ© = 30V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 60V menghasilkan arus 4A. Hambatan rangkaian?",
                options: ["12Œ©", "15Œ©", "18Œ©", "20Œ©"],
                correct: 1,
                explanation: "R = V/I = 60V/4A = 15Œ©"
            },
            {
                type: "Perhitungan",
                question: "Sebuah resistor 25Œ© dihubungkan ke sumber 50V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 50V/25Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 3.5A dan R = 6Œ©, maka V = ?",
                options: ["19V", "21V", "23V", "25V"],
                correct: 1,
                explanation: "V = I √ó R = 3.5A √ó 6Œ© = 21V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 35V dan arus 5A menghasilkan hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 35V/5A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 18Œ© dialiri arus 2A. Tegangannya?",
                options: ["34V", "36V", "38V", "40V"],
                correct: 1,
                explanation: "V = I √ó R = 2A √ó 18Œ© = 36V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 54V dan I = 9A, berapa R?",
                options: ["5Œ©", "6Œ©", "7Œ©", "8Œ©"],
                correct: 1,
                explanation: "R = V/I = 54V/9A = 6Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 1.2A mengalir melalui hambatan 15Œ©. Tegangan?",
                options: ["16V", "18V", "20V", "22V"],
                correct: 1,
                explanation: "V = I √ó R = 1.2A √ó 15Œ© = 18V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 28V menghasilkan arus 4A. Hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 28V/4A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Resistor 22Œ© dihubungkan ke sumber 44V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 44V/22Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 2.8A dan R = 5Œ©, maka V = ?",
                options: ["12V", "14V", "16V", "18V"],
                correct: 1,
                explanation: "V = I √ó R = 2.8A √ó 5Œ© = 14V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 63V dan arus 7A menghasilkan hambatan?",
                options: ["8Œ©", "9Œ©", "10Œ©", "11Œ©"],
                correct: 1,
                explanation: "R = V/I = 63V/7A = 9Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 14Œ© dialiri arus 3A. Tegangannya?",
                options: ["40V", "42V", "44V", "46V"],
                correct: 1,
                explanation: "V = I √ó R = 3A √ó 14Œ© = 42V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 72V dan I = 8A, berapa R?",
                options: ["8Œ©", "9Œ©", "10Œ©", "11Œ©"],
                correct: 1,
                explanation: "R = V/I = 72V/8A = 9Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 0.8A mengalir melalui hambatan 30Œ©. Tegangan?",
                options: ["22V", "24V", "26V", "28V"],
                correct: 1,
                explanation: "V = I √ó R = 0.8A √ó 30Œ© = 24V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 40V menghasilkan arus 8A. Hambatan?",
                options: ["4Œ©", "5Œ©", "6Œ©", "7Œ©"],
                correct: 1,
                explanation: "R = V/I = 40V/8A = 5Œ©"
            },
            {
                type: "Perhitungan",
                question: "Resistor 35Œ© dihubungkan ke sumber 70V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 70V/35Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 1.8A dan R = 10Œ©, maka V = ?",
                options: ["16V", "18V", "20V", "22V"],
                correct: 1,
                explanation: "V = I √ó R = 1.8A √ó 10Œ© = 18V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 56V dan arus 8A menghasilkan hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 56V/8A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 24Œ© dialiri arus 2.5A. Tegangannya?",
                options: ["58V", "60V", "62V", "64V"],
                correct: 1,
                explanation: "V = I √ó R = 2.5A √ó 24Œ© = 60V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 81V dan I = 9A, berapa R?",
                options: ["8Œ©", "9Œ©", "10Œ©", "11Œ©"],
                correct: 1,
                explanation: "R = V/I = 81V/9A = 9Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 3.2A mengalir melalui hambatan 8Œ©. Tegangan?",
                options: ["24.6V", "25.6V", "26.6V", "27.6V"],
                correct: 1,
                explanation: "V = I √ó R = 3.2A √ó 8Œ© = 25.6V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 45V menghasilkan arus 9A. Hambatan?",
                options: ["4Œ©", "5Œ©", "6Œ©", "7Œ©"],
                correct: 1,
                explanation: "R = V/I = 45V/9A = 5Œ©"
            },
            {
                type: "Perhitungan",
                question: "Resistor 40Œ© dihubungkan ke sumber 80V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 80V/40Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 4.5A dan R = 4Œ©, maka V = ?",
                options: ["16V", "18V", "20V", "22V"],
                correct: 1,
                explanation: "V = I √ó R = 4.5A √ó 4Œ© = 18V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 49V dan arus 7A menghasilkan hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 49V/7A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 28Œ© dialiri arus 1.5A. Tegangannya?",
                options: ["40V", "42V", "44V", "46V"],
                correct: 1,
                explanation: "V = I √ó R = 1.5A √ó 28Œ© = 42V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 96V dan I = 12A, berapa R?",
                options: ["7Œ©", "8Œ©", "9Œ©", "10Œ©"],
                correct: 1,
                explanation: "R = V/I = 96V/12A = 8Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 2.4A mengalir melalui hambatan 12Œ©. Tegangan?",
                options: ["26.8V", "28.8V", "30.8V", "32.8V"],
                correct: 1,
                explanation: "V = I √ó R = 2.4A √ó 12Œ© = 28.8V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 32V menghasilkan arus 4A. Hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 2,
                explanation: "R = V/I = 32V/4A = 8Œ©"
            },
            {
                type: "Perhitungan",
                question: "Resistor 45Œ© dihubungkan ke sumber 90V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 90V/45Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 3.6A dan R = 5Œ©, maka V = ?",
                options: ["16V", "18V", "20V", "22V"],
                correct: 1,
                explanation: "V = I √ó R = 3.6A √ó 5Œ© = 18V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 77V dan arus 11A menghasilkan hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 77V/11A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 32Œ© dialiri arus 2A. Tegangannya?",
                options: ["62V", "64V", "66V", "68V"],
                correct: 1,
                explanation: "V = I √ó R = 2A √ó 32Œ© = 64V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 108V dan I = 12A, berapa R?",
                options: ["8Œ©", "9Œ©", "10Œ©", "11Œ©"],
                correct: 1,
                explanation: "R = V/I = 108V/12A = 9Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 1.6A mengalir melalui hambatan 25Œ©. Tegangan?",
                options: ["38V", "40V", "42V", "44V"],
                correct: 1,
                explanation: "V = I √ó R = 1.6A √ó 25Œ© = 40V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 39V menghasilkan arus 3A. Hambatan?",
                options: ["11Œ©", "12Œ©", "13Œ©", "14Œ©"],
                correct: 2,
                explanation: "R = V/I = 39V/3A = 13Œ©"
            },
            {
                type: "Perhitungan",
                question: "Resistor 50Œ© dihubungkan ke sumber 100V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 100V/50Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 5.5A dan R = 6Œ©, maka V = ?",
                options: ["31V", "33V", "35V", "37V"],
                correct: 1,
                explanation: "V = I √ó R = 5.5A √ó 6Œ© = 33V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 84V dan arus 12A menghasilkan hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 84V/12A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 36Œ© dialiri arus 1.5A. Tegangannya?",
                options: ["52V", "54V", "56V", "58V"],
                correct: 1,
                explanation: "V = I √ó R = 1.5A √ó 36Œ© = 54V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 120V dan I = 15A, berapa R?",
                options: ["7Œ©", "8Œ©", "9Œ©", "10Œ©"],
                correct: 1,
                explanation: "R = V/I = 120V/15A = 8Œ©"
            },
            {
                type: "Perhitungan",
                question: "Arus 2.2A mengalir melalui hambatan 18Œ©. Tegangan?",
                options: ["37.6V", "39.6V", "41.6V", "43.6V"],
                correct: 1,
                explanation: "V = I √ó R = 2.2A √ó 18Œ© = 39.6V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 65V menghasilkan arus 5A. Hambatan?",
                options: ["11Œ©", "12Œ©", "13Œ©", "14Œ©"],
                correct: 2,
                explanation: "R = V/I = 65V/5A = 13Œ©"
            },
            {
                type: "Perhitungan",
                question: "Resistor 55Œ© dihubungkan ke sumber 110V. Arus yang mengalir?",
                options: ["1A", "2A", "3A", "4A"],
                correct: 1,
                explanation: "I = V/R = 110V/55Œ© = 2A"
            },
            {
                type: "Perhitungan",
                question: "Jika I = 4.2A dan R = 7Œ©, maka V = ?",
                options: ["27.4V", "29.4V", "31.4V", "33.4V"],
                correct: 1,
                explanation: "V = I √ó R = 4.2A √ó 7Œ© = 29.4V"
            },
            {
                type: "Perhitungan",
                question: "Tegangan 91V dan arus 13A menghasilkan hambatan?",
                options: ["6Œ©", "7Œ©", "8Œ©", "9Œ©"],
                correct: 1,
                explanation: "R = V/I = 91V/13A = 7Œ©"
            },
            {
                type: "Perhitungan",
                question: "Hambatan 42Œ© dialiri arus 2A. Tegangannya?",
                options: ["82V", "84V", "86V", "88V"],
                correct: 1,
                explanation: "V = I √ó R = 2A √ó 42Œ© = 84V"
            },
            {
                type: "Perhitungan",
                question: "Jika V = 132V dan I = 11A, berapa R?",
                options: ["11Œ©", "12Œ©", "13Œ©", "14Œ©"],
                correct: 1,
                explanation: "R = V/I = 132V/11A = 12Œ©"
            },
            
            // Theory Questions (30 questions)
            {
                type: "Teori",
                question: "Apa yang dimaksud dengan muatan listrik?",
                options: ["Sifat dasar materi yang menyebabkan gaya tarik atau tolak", "Aliran elektron dalam konduktor", "Beda potensial antara dua titik", "Hambatan terhadap aliran listrik"],
                correct: 0,
                explanation: "Muatan listrik adalah sifat dasar dari materi yang menyebabkan gaya tarik atau tolak antar partikel."
            },
            {
                type: "Teori",
                question: "Satuan untuk muatan listrik adalah?",
                options: ["Ampere", "Volt", "Coulomb", "Ohm"],
                correct: 2,
                explanation: "Satuan muatan listrik adalah Coulomb (C)."
            },
            {
                type: "Teori",
                question: "Arus listrik adalah?",
                options: ["Hambatan terhadap aliran elektron", "Laju aliran muatan listrik per satuan waktu", "Gaya dorong elektron", "Energi yang tersimpan"],
                correct: 1,
                explanation: "Arus listrik adalah laju aliran muatan listrik yang melalui suatu titik dalam satuan waktu."
            },
            {
                type: "Teori",
                question: "Satuan arus listrik adalah?",
                options: ["Volt", "Ohm", "Ampere", "Watt"],
                correct: 2,
                explanation: "Satuan arus listrik adalah Ampere (A)."
            },
            {
                type: "Teori",
                question: "DC adalah singkatan dari?",
                options: ["Direct Current", "Double Current", "Dynamic Current", "Dual Current"],
                correct: 0,
                explanation: "DC adalah Direct Current atau arus searah."
            },
            {
                type: "Teori",
                question: "AC adalah singkatan dari?",
                options: ["Automatic Current", "Alternating Current", "Active Current", "Amplified Current"],
                correct: 1,
                explanation: "AC adalah Alternating Current atau arus bolak-balik."
            },
            {
                type: "Teori",
                question: "Contoh sumber arus DC adalah?",
                options: ["Listrik PLN", "Generator AC", "Baterai", "Transformator"],
                correct: 2,
                explanation: "Baterai dan aki adalah contoh sumber arus DC (Direct Current)."
            },
            {
                type: "Teori",
                question: "Listrik rumah tangga menggunakan jenis arus?",
                options: ["DC", "AC", "Campuran AC-DC", "Arus statis"],
                correct: 1,
                explanation: "Listrik rumah tangga menggunakan arus AC (Alternating Current)."
            },
            {
                type: "Teori",
                question: "Tegangan listrik adalah?",
                options: ["Aliran elektron", "Gaya dorong yang menyebabkan muatan bergerak", "Hambatan listrik", "Energi kinetik elektron"],
                correct: 1,
                explanation: "Tegangan listrik adalah gaya dorong yang menyebabkan muatan listrik bergerak dalam suatu rangkaian."
            },
            {
                type: "Teori",
                question: "Satuan tegangan listrik adalah?",
                options: ["Ampere", "Ohm", "Volt", "Watt"],
                correct: 2,
                explanation: "Satuan tegangan listrik adalah Volt (V)."
            },
            {
                type: "Teori",
                question: "Hambatan listrik adalah?",
                options: ["Aliran muatan listrik", "Sejauh mana bahan menahan aliran listrik", "Gaya dorong elektron", "Energi listrik"],
                correct: 1,
                explanation: "Hambatan listrik adalah sejauh mana suatu bahan menahan aliran listrik."
            },
            {
                type: "Teori",
                question: "Satuan hambatan listrik adalah?",
                options: ["Volt", "Ampere", "Ohm", "Coulomb"],
                correct: 2,
                explanation: "Satuan hambatan listrik adalah Ohm (Œ©)."
            },
            {
                type: "Teori",
                question: "Hukum Ohm menyatakan hubungan antara?",
                options: ["V, I, dan R", "P, V, dan I", "E, I, dan t", "Q, V, dan C"],
                correct: 0,
                explanation: "Hukum Ohm menyatakan hubungan antara tegangan (V), arus (I), dan hambatan (R)."
            },
            {
                type: "Teori",
                question: "Rumus Hukum Ohm untuk mencari arus adalah?",
                options: ["I = V √ó R", "I = V / R", "I = R / V", "I = V + R"],
                correct: 1,
                explanation: "Rumus Hukum Ohm untuk mencari arus adalah I = V/R."
            },
            {
                type: "Teori",
                question: "Rumus Hukum Ohm untuk mencari tegangan adalah?",
                options: ["V = I / R", "V = I √ó R", "V = R / I", "V = I + R"],
                correct: 1,
                explanation: "Rumus Hukum Ohm untuk mencari tegangan adalah V = I √ó R."
            },
            {
                type: "Teori",
                question: "Rumus Hukum Ohm untuk mencari hambatan adalah?",
                options: ["R = V √ó I", "R = V + I", "R = V / I", "R = I / V"],
                correct: 2,
                explanation: "Rumus Hukum Ohm untuk mencari hambatan adalah R = V/I."
            },
            {
                type: "Teori",
                question: "Menurut Hukum Ohm, jika tegangan naik dan hambatan tetap, maka arus akan?",
                options: ["Turun", "Naik", "Tetap", "Menjadi nol"],
                correct: 1,
                explanation: "Menurut Hukum Ohm (I = V/R), jika V naik dan R tetap, maka I akan naik."
            },
            {
                type: "Teori",
                question: "Jika hambatan naik dan tegangan tetap, maka arus akan?",
                options: ["Naik", "Turun", "Tetap", "Menjadi tak hingga"],
                correct: 1,
                explanation: "Menurut Hukum Ohm (I = V/R), jika R naik dan V tetap, maka I akan turun."
            },
            {
                type: "Teori",
                question: "Konduktor adalah bahan yang?",
                options: ["Menghambat aliran listrik", "Mudah mengalirkan listrik", "Tidak dapat dialiri listrik", "Menyimpan listrik"],
                correct: 1,
                explanation: "Konduktor adalah bahan yang mudah mengalirkan arus listrik karena memiliki hambatan rendah."
            },
            {
                type: "Teori",
                question: "Isolator adalah bahan yang?",
                options: ["Mudah mengalirkan listrik", "Menghambat aliran listrik", "Menyimpan listrik", "Menghasilkan listrik"],
                correct: 1,
                explanation: "Isolator adalah bahan yang menghambat atau tidak mengalirkan arus listrik."
            },
            {
                type: "Teori",
                question: "Contoh konduktor yang baik adalah?",
                options: ["Karet", "Plastik", "Tembaga", "Kayu"],
                correct: 2,
                explanation: "Tembaga adalah contoh konduktor yang baik karena mudah mengalirkan listrik."
            },
            {
                type: "Teori",
                question: "Contoh isolator adalah?",
                options: ["Aluminium", "Besi", "Karet", "Perak"],
                correct: 2,
                explanation: "Karet adalah contoh isolator yang menghambat aliran listrik."
            },
            {
                type: "Teori",
                question: "Dalam rangkaian listrik, simbol untuk hambatan adalah?",
                options: ["Garis lurus", "Zigzag", "Lingkaran", "Segitiga"],
                correct: 1,
                explanation: "Simbol hambatan dalam rangkaian listrik adalah garis zigzag."
            },
            {
                type: "Teori",
                question: "Alat untuk mengukur arus listrik adalah?",
                options: ["Voltmeter", "Ammeter", "Ohmmeter", "Wattmeter"],
                correct: 1,
                explanation: "Ammeter adalah alat untuk mengukur arus listrik."
            },
            {
                type: "Teori",
                question: "Alat untuk mengukur tegangan listrik adalah?",
                options: ["Ammeter", "Voltmeter", "Ohmmeter", "Galvanometer"],
                correct: 1,
                explanation: "Voltmeter adalah alat untuk mengukur tegangan listrik."
            },
            {
                type: "Teori",
                question: "Alat untuk mengukur hambatan listrik adalah?",
                options: ["Ammeter", "Voltmeter", "Ohmmeter", "Barometer"],
                correct: 2,
                explanation: "Ohmmeter adalah alat untuk mengukur hambatan listrik."
            },
            {
                type: "Teori",
                question: "Dalam rangkaian seri, arus yang mengalir pada setiap komponen adalah?",
                options: ["Berbeda-beda", "Sama", "Berlawanan arah", "Nol"],
                correct: 1,
                explanation: "Dalam rangkaian seri, arus yang mengalir pada setiap komponen adalah sama."
            },
            {
                type: "Teori",
                question: "Dalam rangkaian paralel, tegangan pada setiap cabang adalah?",
                options: ["Berbeda-beda", "Sama", "Berlawanan", "Nol"],
                correct: 1,
                explanation: "Dalam rangkaian paralel, tegangan pada setiap cabang adalah sama."
            },
            {
                type: "Teori",
                question: "Hukum Ohm berlaku untuk?",
                options: ["Semua bahan", "Hanya konduktor", "Bahan ohmic", "Hanya isolator"],
                correct: 2,
                explanation: "Hukum Ohm berlaku untuk bahan ohmic yang memiliki hubungan linear antara V dan I."
            },
            {
                type: "Teori",
                question: "Faktor yang mempengaruhi hambatan kawat adalah?",
                options: ["Panjang, luas penampang, dan jenis bahan", "Hanya panjang", "Hanya luas penampang", "Hanya suhu"],
                correct: 0,
                explanation: "Hambatan kawat dipengaruhi oleh panjang, luas penampang, jenis bahan, dan suhu."
            }
        ];

        // Game State
        let currentQuestionIndex = 0;
        let score = 0;
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let timeLeft = 30;
        let timer;
        let studentName = '';
        let studentClass = '';

        // DOM Elements
        const startScreen = document.getElementById('startScreen');
        const quizScreen = document.getElementById('quizScreen');
        const breakScreen = document.getElementById('breakScreen');
        const resultScreen = document.getElementById('resultScreen');
        const answerPopup = document.getElementById('answerPopup');
        
        let breakTimer;
        let breakTimeLeft = 60;
        
        // Learning tips for break screen
        const learningTips = [
            "Ingat rumus Hukum Ohm: V = I √ó R, I = V/R, R = V/I",
            "Arus DC mengalir satu arah, AC mengalir bolak-balik",
            "Konduktor mudah mengalirkan listrik, isolator menghambat",
            "Satuan: Arus (Ampere), Tegangan (Volt), Hambatan (Ohm)",
            "Dalam rangkaian seri: arus sama, tegangan terbagi",
            "Dalam rangkaian paralel: tegangan sama, arus terbagi",
            "Ammeter mengukur arus, Voltmeter mengukur tegangan",
            "Hambatan kawat dipengaruhi panjang, luas, dan bahan",
            "Jika tegangan naik dan hambatan tetap, arus akan naik",
            "Tembaga adalah konduktor yang baik, karet adalah isolator"
        ];

        // Start Quiz
        document.getElementById('studentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            studentName = document.getElementById('studentName').value;
            studentClass = document.getElementById('studentClass').value;
            
            document.getElementById('studentInfo').textContent = `${studentName} - ${studentClass}`;
            
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            loadQuestion();
            startTimer();
        });

        // Load Question
        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            
            // Randomize answer options
            const shuffledOptions = [...question.options];
            const correctAnswer = question.options[question.correct];
            
            // Shuffle the options array
            for (let i = shuffledOptions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
            }
            
            // Find new position of correct answer
            const newCorrectIndex = shuffledOptions.indexOf(correctAnswer);
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('questionType').textContent = question.type;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            shuffledOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full p-4 text-left bg-gray-50 hover:bg-blue-50 rounded-xl border-2 border-transparent hover:border-blue-200 transition-all transform hover:scale-105';
                button.innerHTML = `<span class="font-medium text-blue-600">${String.fromCharCode(65 + index)}.</span> ${option}`;
                button.onclick = () => selectAnswer(index, newCorrectIndex);
                optionsContainer.appendChild(button);
            });
            
            updateProgress();
            resetTimer();
        }

        // Select Answer
        function selectAnswer(selectedIndex, correctIndex = null) {
            // Don't clear timer - let it continue running
            
            const question = questions[currentQuestionIndex];
            let isCorrect;
            
            if (correctIndex !== null) {
                // For randomized options
                isCorrect = selectedIndex === correctIndex;
            } else {
                // For original order (fallback)
                isCorrect = selectedIndex === question.correct;
            }
            
            // Disable all option buttons after selection
            const optionButtons = document.querySelectorAll('#optionsContainer button');
            optionButtons.forEach(button => {
                button.disabled = true;
                button.classList.add('opacity-50', 'cursor-not-allowed');
            });
            
            // Highlight selected answer (only if not time's up)
            if (selectedIndex >= 0) {
                optionButtons[selectedIndex].classList.add('ring-2', 'ring-blue-500');
            }
            
            if (isCorrect) {
                correctAnswers++;
                score += 10;
                showPopup(true, question.explanation);
                if (selectedIndex >= 0) {
                    optionButtons[selectedIndex].classList.add('bg-green-100', 'border-green-300');
                }
            } else {
                wrongAnswers++;
                showPopup(false, question.explanation);
                if (selectedIndex >= 0) {
                    optionButtons[selectedIndex].classList.add('bg-red-100', 'border-red-300');
                }
            }
            
            updateScore();
            
            // Hide popup after 3 seconds but don't move to next question yet
            setTimeout(() => {
                hidePopup();
            }, 3000);
        }

        // Sound Functions
        function playSound(frequency, duration, type = 'sine') {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration);
            } catch (error) {
                console.log('Audio not supported');
            }
        }

        function playCorrectSound() {
            // Play a pleasant ascending tone for correct answers
            playSound(523, 0.2); // C5
            setTimeout(() => playSound(659, 0.2), 100); // E5
            setTimeout(() => playSound(784, 0.3), 200); // G5
        }

        function playWrongSound() {
            // Play a descending tone for wrong answers
            playSound(400, 0.3, 'sawtooth'); // Lower frequency with sawtooth wave
            setTimeout(() => playSound(300, 0.4, 'sawtooth'), 150);
        }

        // Show Popup
        function showPopup(isCorrect, explanation) {
            const popup = document.getElementById('answerPopup');
            const icon = document.getElementById('popupIcon');
            const title = document.getElementById('popupTitle');
            const message = document.getElementById('popupMessage');
            const explanationDiv = document.getElementById('popupExplanation');
            
            if (isCorrect) {
                playCorrectSound(); // Play correct sound
                icon.textContent = 'üéâ';
                title.textContent = 'Benar!';
                title.className = 'text-2xl font-bold mb-2 text-green-600';
                message.textContent = 'Jawaban Anda tepat!';
            } else {
                playWrongSound(); // Play wrong sound
                icon.textContent = 'üòî';
                title.textContent = 'Salah!';
                title.className = 'text-2xl font-bold mb-2 text-red-600';
                message.textContent = 'Jawaban Anda kurang tepat.';
            }
            
            explanationDiv.innerHTML = `<strong>Penjelasan:</strong><br>${explanation}`;
            
            popup.classList.remove('hidden');
            popup.querySelector('.bg-white').classList.add('scale-100');
        }

        // Hide Popup
        function hidePopup() {
            const popup = document.getElementById('answerPopup');
            popup.querySelector('.bg-white').classList.remove('scale-100');
            setTimeout(() => {
                popup.classList.add('hidden');
            }, 300);
        }

        // Next Question
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= questions.length) {
                showResults();
            } else if (currentQuestionIndex % 10 === 0 && currentQuestionIndex < questions.length) {
                // Show break screen every 10 questions
                showBreakScreen();
            } else {
                loadQuestion();
                startTimer();
            }
        }

        // Show Break Screen
        function showBreakScreen() {
            quizScreen.classList.add('hidden');
            breakScreen.classList.remove('hidden');
            
            document.getElementById('completedQuestions').textContent = currentQuestionIndex;
            
            // Show random learning tip
            const randomTip = learningTips[Math.floor(Math.random() * learningTips.length)];
            document.getElementById('breakTip').textContent = randomTip;
            
            // Reset code form
            document.getElementById('continueCode').value = '';
            document.getElementById('codeError').classList.add('hidden');
        }

        // Generate code based on term
        function generateTermCode() {
            // Term-based codes that teacher knows
            const termCodes = {
                1: "tkr1",
                2: "piston", 
                3: "torak",
                4: "mesin"
            };
            
            // For demo purposes, cycle through terms based on current date
            // In real implementation, teacher would set the current term
            const today = new Date();
            const currentTerm = ((today.getMonth() + 1) % 4) + 1; // Cycles 1-4 based on month
            
            return termCodes[currentTerm] || "tkr1";
        }

        // Code form handler
        document.getElementById('codeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const enteredCode = document.getElementById('continueCode').value.toLowerCase();
            const validCode = generateTermCode();
            
            if (enteredCode === validCode) {
                // Code is correct, continue quiz
                breakScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                loadQuestion();
                startTimer();
            } else {
                // Show error
                document.getElementById('codeError').classList.remove('hidden');
                document.getElementById('continueCode').value = '';
                
                // Hide error after 3 seconds
                setTimeout(() => {
                    document.getElementById('codeError').classList.add('hidden');
                }, 3000);
            }
        });



        // Timer Functions
        function startTimer() {
            timeLeft = 30;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 5) {
                    document.getElementById('timer').classList.add('timer-warning', 'text-red-600');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    selectAnswer(-1); // Time's up, wrong answer
                }
            }, 1000);
        }

        function resetTimer() {
            timeLeft = 30;
            document.getElementById('timer').classList.remove('timer-warning', 'text-red-600');
            document.getElementById('timer').classList.add('text-blue-600');
        }

        function updateTimerDisplay() {
            document.getElementById('timer').textContent = timeLeft;
        }

        // Update Progress
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Update Score
        function updateScore() {
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            document.getElementById('scoreDisplay').textContent = score;
        }

        // Show Results
        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            document.getElementById('finalStudentInfo').textContent = `${studentName} - ${studentClass}`;
            document.getElementById('finalCorrect').textContent = correctAnswers;
            document.getElementById('finalWrong').textContent = wrongAnswers;
            document.getElementById('finalScore').textContent = score;
            
            const percentage = (correctAnswers / questions.length) * 100;
            const gradeMessage = document.getElementById('gradeMessage');
            
            if (percentage >= 90) {
                gradeMessage.innerHTML = '<div class="text-green-600 font-bold">üèÜ Excellent! Nilai A</div><p class="text-sm text-gray-600 mt-2">Pemahaman Anda tentang kelistrikan dasar sangat baik!</p>';
                gradeMessage.className = 'mb-6 p-4 rounded-xl bg-green-50 border border-green-200';
                document.getElementById('resultIcon').textContent = 'üèÜ';
            } else if (percentage >= 80) {
                gradeMessage.innerHTML = '<div class="text-blue-600 font-bold">‚≠ê Very Good! Nilai B</div><p class="text-sm text-gray-600 mt-2">Pemahaman Anda baik, terus tingkatkan!</p>';
                gradeMessage.className = 'mb-6 p-4 rounded-xl bg-blue-50 border border-blue-200';
                document.getElementById('resultIcon').textContent = '‚≠ê';
            } else if (percentage >= 70) {
                gradeMessage.innerHTML = '<div class="text-yellow-600 font-bold">üëç Good! Nilai C</div><p class="text-sm text-gray-600 mt-2">Cukup baik, masih ada ruang untuk perbaikan.</p>';
                gradeMessage.className = 'mb-6 p-4 rounded-xl bg-yellow-50 border border-yellow-200';
                document.getElementById('resultIcon').textContent = 'üëç';
            } else {
                gradeMessage.innerHTML = '<div class="text-red-600 font-bold">üìö Keep Learning! Nilai D</div><p class="text-sm text-gray-600 mt-2">Pelajari lagi materi kelistrikan dasar.</p>';
                gradeMessage.className = 'mb-6 p-4 rounded-xl bg-red-50 border border-red-200';
                document.getElementById('resultIcon').textContent = 'üìö';
            }
        }

        // Restart Quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            correctAnswers = 0;
            wrongAnswers = 0;
            
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            
            document.getElementById('studentName').value = '';
            document.getElementById('studentClass').value = '';
        }

        // Shuffle questions for variety
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Initialize
        shuffleArray(questions);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a6ac93103bc753',t:'MTc1NDQwMDg4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
